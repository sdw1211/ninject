# 2장 테스팅과 디버깅 갖추기
## 코드 디버깅
- 로깅
  - 코드 내에서 로깅을 호출하도록 코드를 작성(console.log())
  - 브라우저 콘솔에서 메세지를 볼 수 있다는 점이 장점
  - 프로그램의 정상적인 진행을 방해하지 않고, 즉시 또는 나중에 콘솔에 출력

    ```javascript
    var x = 213;
    console.log(x);
    ```
  - 모든 브라우저에서 동작하는 세련된 고수준 로깅 메서드를 구현할 수 있음

    ```javascript
    function log() {
      try {
        console.log.apply(console, arguements);
      } catch(e) {
        try {
    	  opera.postError.apply(opera, argumemts);
        } catch(e) {
          alert(Array.prototype.join.call(argumemts, " "));
        }
      }
    }
    ```
  - 더 완성된 버전은 링크 참고 : http://patik.com/blog/complete-cross-browser-console.log

- 중단점
  - 스크립트의 실행을 중지시키고, 브라우저를 멈춰서 해당 시점의 모든 상태를 조사하는 방법
  - 조사할 수 있는 대상 : 변수, 콘텍스트, 유효 범위 등등
  - 브라우저 환경에 크게 의존할 수 밖에 없다(브라우저의 기능이기 때문에..)
  - 코드를 디버깅하는 것은 디버깅 본래의 목적(버그를 찾고 수정하는)을 달성하는 것이기도 하지만, 효율적인 테스트 케이스를 만드는 데 도움이 되기도 한다.
  - 자세한 사용 방법은 각자 찾아보자..

## 테스트 생성

- **좋은** 테스트가 **좋은** 코드를 만든다.!!
- 좋은 테스트의 특성

  1. 반복성
    - 테스트 결과는 항상 재현 가능해야 한다.
    - 테스트 반복적으로 실행할 경우 항상 같은 결과를 내야 한다.
    - 재현 가능성은 테스트가 네트워크나 CPU 부하 등의 외부 요인과 독립적이라는 것을 보장한다.
  2. 간결성
    - 테스트를 하는 것에만 집중
    - 테스트 코드의 의도를 훼손하지 않는 한, 모든 것을 제거하도록 노력(css, html, javascript 등등)
    - 더 많이 제거할 수록 좋다!
  1. 독립성
    - 각 테스트는 독립적으로 동작
    - 서로 다른 테스트끼리 영향을 끼치지 않아야 한다.
    - 가능한 작은 단위로 분리하는 편이 적확한 버그의 원인을 찾는데 도움이 된다.

- 테스트 방법

  1. 제거적 테스트 케이스
    - 문제를 경리하기 위해 테스트와는 상관 없는 모든 것을 제거하면서 테스트
    - 위 3가지 특성을 얻는데 도움이 된다.
    - 문제를 재현할 수 있는 보다 작은 경우에 도달할 수 있다.
  1. 추가적 테스트 케이스
    - 올바르다고 알고 있는 작은 테스트 케이스를 가지고 확인하려는 버그가 재현될 때까지 테스트 케이스를 늘려 나가는 방법
    - 이 스타일을 이용하기 위해서는 테스트를 구축할 수 있는 간단한 테스트 파일 몇 개와 코드의 깨끗한 사본을 가지고 테스트를 생성하는 방법이 필요

## 테스트 프레임워크

- 테스트 프레임워크는 목표에 도달할 수 있도록 테스트를 생성하고 테스트 스위트 안에 넣는 것 이외에는 신경 쓰지 않도록 도와준다.
- 프레임워크에 요구되는 기능
  1. 브라우저의 행동(클릭, 키 입력 등)을 흉내 내는 기능
  1. 테스트 일시 정지와 재개를 지원
  1. 비동기 테스트에 대한 타임아웃 처리
  1. 실행되어야 하는 테스트들에 대한 필터링 기능

- 테스트 프레임워크를 직접 만+들어 보는 작업은 테스트 프레임워크를 통해서 얻고자 하는 바를 잘 이해하는 데 그다지 나쁘지 않은 방법
- 테스트 프레임워크를 만드는 것은 보통 크로스 브라우저 이슈에 대한 걱정 없이 순수 자바스크립트만 사용하기 때문에 시도해 볼 만한 흥미로운 주제가 될 수 있다.

- 많이 쓰는 프레임워크의 종류
  1. [QUnit](http://qunitjs.com)
  1. [YUI Test](http://developer.yahoo.com/yui/3/test/)
  1. [JSUnit](http://jsunit.berlios.de/)
  1. [Jasmine](https://github.com/jasmine/jasmine)
  1. [TestSwarm](http://github.com/jquery/testswarm/wiki)

## 테스트 스위트의 기본

- 목적 : 개별 테스트를 묶어 하나의 자원으로 제공함으로써 여러 테스트를 한 번에 실행할 수 있게 그리고 반복해서 간단히 실행할 수 있게 하는 것



